%!TEX TS-program = sage
\documentclass{article}
\title{MTK Basic Test 02 - Python Source Plus Minted}
\author{J. Simmons}

\usepackage{sagetex}
\setlength{\sagetexindent}{5ex}

% add source code formatting support
\usepackage{minted}
\usemintedstyle{vs}
\usepackage{etoolbox}
\AtBeginEnvironment{minted}{\singlespace%
\fontsize{10}{10}\selectfont}

\begin{document}
\maketitle

% start content here
\section{Test Importing Custom Python Libraries}
This section tests the ability to use custom Python libraries.

\begin{sageblock}
  from numpy import linspace
  import MTK_Basic_Plotting
  
  def f(x):
    return x^3 + 3
  
  range_begin = -5
  range_end = 5 
  x = linspace(range_begin, range_end, 1000)
  
    
  MTK_Basic_Plotting.MakeSimplePlot('', x, 'x', f(x), \ 
                                    'f(x)', 'cubic.png')  
  
\end{sageblock}

Figure~\ref{f:cubic_plot} ($f(x) = x^3 + 3$) is generated by the Python code above by calling the custom Python basic plotting library, MTK\_Basic\_Plotting.

\clearpage

\IfFileExists{cubic.png}{
    \begin{figure}[h!]
    \centering
    \includegraphics[scale=.60]{cubic.png}
    \caption{Demo plot from Sage}
    \label{f:cubic_plot}
    \end{figure}
    } 

\section*{Appendix - Plotting Library Source Code}
This section tests the ability to present formatted Python code in an external source file.

\inputminted[linenos,frame=lines,framesep=2.0\fboxsep]{python}{MTK_Basic_Plotting.py}

\section*{}
This document is a work of Mach 30 and is licensed under the Creative Commons Attribution 3.0 Unported License. To view a copy of this license, visit http://creativecommons.org/licenses/by/3.0/.

\end{document}